<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>

  <script src="https://npmcdn.com/es6-promise@3.2.1"></script>
  <script type="text/javascript" src="jquery.min.js"></script>
  <script type="text/javascript" src="powerbi.min.js"></script>
  <script type="text/javascript">

        //This code is for sample purposes only.

        //Configure IFrame for the Report after you have an Access Token. See Default.aspx.cs to learn how to get an Access Token
        window.onload = function () {
            var accessToken = 'H4sIAAAAAAAEACWWxa7FDI6E3-XfpqUwnJZ6EWbm7MLMnNG8-9xR7y1bqq9c9v_8Y6XvMKfFP__-B_hogsDaVBm-yM5-swp0tg6Sv5rHNNFGS9tl4aywNIS5aQ8KSTNu0hZcUylBz1_SMpcY3cueJ4dKHdpVgAVNjXOeZF-VsadYwjkWgMdvXxX6-uwI_uxN7JmBrRePFa4a6A3ww8RajaWxEqXOVT1qUwpSj6nkM3wIADysn31Cb4lA55QLvmd-v-o00umOvOii9Nh5Wn_PviblhOJ-sUYX547MppgIwGQU3fFGiyjAsXWsz-FzeBozUVnc3aN6GqXwCdaA2CT1TE091nA_mU3Y26NaXOAju48lXa_hnP2QrFKPQE3DqxAFvtl9d_fC_rkYUhxbiXZ-KnayYq6lvYFOoOULjWz7w3g3zgXCx4ypw3mUSFUJUpDv4snIDgvqPD9IIe-MDAOEtHN6ZN7Qvc8a9Pux6vDYRCjEEPH4MDNfPwUgzy4wWBHZphNd8aOQ9W2zBfMbQyxkT3SB9DC7T5xvo8fmLaACN6kR8ZAQkLLm1iL19KwuZxRmHGOpDkJ7Iqr8ogypemBT7NCNmXV-DgcqCn3veZnxcQeGdQbBRBmQdv7RLoGjEzXuAQj-QNdMz3YdfuYkSscwYVR44RwDeaf1gsf67bKQBLCMpANJvlJ5JBXWjMdIdZ7SjF2kYB56C85UJd9ARz_i6GN3rShsPfkQAecedgVreKixuiXgdWqub5S0M3aamotai0eeYuPGGMY9airMhwU2ufIzp2gRajvhvjeP6apJoqXGjtnObs9zbhbGt3-lAy2FkuRgBqcQtjoRbjFMk1T0Dk0Pe7rezu1lavcv72g-hwWsmSEudiYw1BJ4xW--5T1mHzok2xi10VerHEc5c4oPZ97MlKnrfVZcqGIhI9qUzwo-gDjJh6nCasLFweQxlc2pYO-s_obnQu2-2oiLmxdXNixWhZ2A_0quwOxcC77UCJQy2sS1fzILfYvUHpFV9S7dI92MYVgHCxXwjvLbz50-AUQv9PoZ0-S5xAvNBLO0hBBSUhnRISQ95tWlun1C_jdqG6I04Vje5_iW5iIE8ePLE2Q2xPtz4pM-TbVMbyAE4BVaCDoAsaRp1qOCFjnVNJp5rPXQy6lHl-577lY-8-CC-k45V9asdaYnTq3Z6YSwSxFaDtzzK23QPw66llGIhpV2Y71UfHhtWjwndv0PzPJ25pJnFBQVijgMouIl-WwdCDlwxUlb4gPZLjYjNGNa2e3p1E-jTB0xAC9U1YN0TqP0nHU8KuONDFOwi05aD8HsBlTZnDJCvlmd026nhAofxGNjGJKd-3ZSRw6DK7ze3r8sqqBY5BJJGDhO6-maoGdtCaLmbqM1yxFxy1Lq3WXDa_XhFhgam0UwMk2j_8x3EswJ5GIdULX1ZBDIPAf5qfiF7kL77fIzkvBQUUyZ9bbJRUuOLP17oU2HbSVmnSRHZu0nzJ684kH9w0KeFcyXGS7ASBogCrUuPutTxcivTb1szfHLdfIHHin-Id4QAfR0d-dbSJaUbTM31qyomA-UDpuXVfS8GzndqJhhR-BaPh6Hz5acsyjGTNJgoIL9vQ3neMPoQWoiZujRdBj8bx6yNZ8_xOP6qrVQloJ_Wk2tEBZVuZocFlog9OxshnUUWElOX2HnHOi9EUnypqR8AwwFY8hwUUGMJ_p5hEYHpDsS9RYPiJAiRNVFRUhGW92c_SJeiWrhdsyyvj_Q0cBjhJwst5LK84Mp7YqhlXCPkTXMuxAc0eYq3EmVv36JtxfYqnLz-gHoxTtFyAj5wTCewozVkgZGWEo1xqBWAHjKFaXj_NgHKP61Wl2TQlGdVm-GFZ75Ylcj78pVYYnABFKGQOQgK_rWlkDlaOy3qexvJ2oZubwmiK5ND6FxPSjm2UpADVbMSakO2KMOGA7lRAlpQ8Sb3U-ejE53UM768-0MEYb-gi5DKG1obQI2vKNv4G0WS2Tk2Xl7hT9gK2T5jUvKcVQq__wJfQB9v9oYoAJhYFVQlBJ9j8tpLpYU2jurPNI7PLG_20B2bcCV0XY1ZYFS92b9AeKBXvkKs5IB6gMEF9OLu1NHb1oCoZnYLbjLDLHFw7GCU3yXJmzqjfKEV4h3gSrQIlhmRtLBjNxdSvvCmHsfyjkrG_j1Ik4eJEAh4ks01g3s2k-7_uLmUaitSoxwg_KZYTaC-lFeWLd_znf57eg5pQrE61m7jmIqJ-r5uE8v_dQhxw8QNcQ49ovbne-wPdgdYuxTcO19Oi1a8HMQ_O0xomx3Y52JOEvfH0nurzoACe0_ak0bDYvbG0skfzGKIBNhq3g91Dx_-OWnsjH-HnL6YgLsPRHPNZHPQ9kSknrea3cnP-D3S-Jycx38orQ5FM8m6-ohQoN4lHFjRtH2_MEIOxFIs4JLltpGTL-9xb02O8n5PFYKsjltJMl5xDb8IbAouxT1f_7zz7_-Ybd3OWa1fP_erI-_sIuaVKqijpvpQmu_vRVLiVDMQ9HUO9QHH_zosHgPgL6CUJR_Y_pE-xlcm3UsHt9qcOY9BHA1Rtb-VMtHn61TFxCRwBlIiQ0bhwdH4yY8skgzBtr82WOk49lX8_bRSfD50SkjpZ1d1PPLC6GNvGjjBGFsWZL-R2i7pf6XYII4x93fErwcYkwibYBpqpk4fio5baoB8mNPdrxSY26x6Qgn3Ja1pmWiY0e9X6QHBK5MlJ0G5_1bKgQKzYBDNXTmlIAkxMv6dQN_qODtxT8tB0RbZsTHl2Q4v_9eoz_SU-BZacPV9jT5EfTgi2L1-NNuNkvPgcaddooXUQoBZcJHH0b3939l_jNwucnBn8pT5kAdMIY8rcncDL7k_eee_8Jw23pKj3Mr_8rqeObdoiyUeAV9OFIg8MUixNnMA44yQ8WDFwcLtw3EiBRud7RNtr8elE32ikohy6CIMNRgUnoMuBGt0TdFnzOEQk5Hyf_x91zOpuZxEjHSNXhzkIOly4Rz-oyY8xTGswO9Xh6HPfb26qfEmiwyS38JYELKMq-5wPhIRKLAo2x_gh0phhVpyvP4SUpUF7lIQRDQbuTcu6VP44feN8S8-G9oSmESsY4C2uTMds8jPfPdZv8qM1LeU9SKu_nDZInJp9sJNXGjX39Pm7XfMlJvi6EkKHhiMYRitv5F6bJL8U2Xp9UCGWl0Gwxkxq3UfEClonOJNg86JhDvnf2gpotEcAz__b_M__t_RcUW81oMAAA=';
            var embedUrl = 'https://app.powerbi.cn/reportEmbed?reportId=4ea7fd88-240c-4d43-ae51-cbac319cee31&groupId=dbc42c25-9eef-4516-a6f7-7ec1d02e2eed';
            var reportId = '4ea7fd88-240c-4d43-ae51-cbac319cee31';

            // Read embed type from radio
            var tokenType = $('input:radio[name=tokenType]:checked').val();
            // Get models. models contains enums that can be used.
            var models = window['powerbi-client'].models;

            // Embed configuration used to describe the what and how to embed.
            // This object is used when calling powerbi.embed.
            // This also includes settings and options such as filters.
            // You can find more information at https://github.com/Microsoft/PowerBI-JavaScript/wiki/Embed-Configuration-Details.
            var config = {
                type: 'report',
                tokenType: tokenType == '0' ? models.TokenType.Aad : models.TokenType.Embed,
                accessToken: accessToken,
                embedUrl: embedUrl,
                id: reportId,
                permissions: models.Permissions.All /*gives maximum permissions*/,
                viewMode: models.ViewMode.ReadOnly,
                settings: {
                    panes: {
                        filters: {
                            visible: false
                        },
                        pageNavigation: {
                            visible: false
                        }
                    }
                }
            };

            //// Grab the reference to the div HTML element that will host the report.
            //var reportContainer = document.getElementById('reportContainer');

            //// Embed the report and display it within the div container.
            //var report = powerbi.embed(reportContainer, config);


            // Get a reference to the embedded report HTML element
            var embedContainer = $('#reportContainer')[0];

            // Embed the report and display it within the div container.
            var report = powerbi.embed(embedContainer, config);

            // Report.off removes a given event handler if it exists.
            report.off("loaded");

            // Report.on will add an event handler which prints to Log window.
            report.on("loaded", function () {
                console.log("Loaded");
            });

            // Report.off removes a given event handler if it exists.
            report.off("rendered");

            // Report.on will add an event handler which prints to Log window.
            report.on("rendered", function () {
                console.log("Rendered");
            });

            report.off("error");
            report.on("error", function (event) {
                Log.log(event.detail);
            });

            report.off("saved");
            report.on("saved", function (event) {
                Log.log(event.detail);
                if (event.detail.saveAs) {
                    console.log('In order to interact with the new report, create a new token and load the new report');
                }
            });
        }
    </script>

    <header>
        <h1>
            Power BI Embedded Report Demo
        </h1>
    </header>

    <div>
        Embedded Report
        <br />
        <div ID="reportContainer" style="width: 900px; height: 500px"></div>
    </div>



</html>
